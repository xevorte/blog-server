<%- include ../partials/header.ejs -%>

<%- include ../../partials/message.ejs -%>

<div id="auth">
    <div class="row h-100">
        <div class="col-lg-5 col-12">
            <div id="auth-left">
                <h1 class="auth-title mt-4">Registration.</h1>
                <p class="auth-subtitle mb-5">
                    Registration with your data to continue login.
                </p>

                <form action="/registration" method="post" enctype="multipart/form-data">
                    <img src="/images/empty_user.jpg" id="preview" alt="empty" width="80px" class="rounded-circle mb-4">
                    <div class="form-group position-relative has-icon-left mb-4">
                        <input type="file" class="form-control ps-5" id="avatar" name="avatar" />
                        <div class="form-control-icon">
                            <i class="bi bi-cloud-upload"></i>
                        </div>
                    </div>
                    <div class="form-group position-relative has-icon-left mb-4">
                        <input type="text" class="form-control form-control-xl" id="name" name="name"
                            placeholder="Fullname" />
                        <div class="form-control-icon">
                            <i class="bi bi-journal-text"></i>
                        </div>
                    </div>
                    <div class="form-group position-relative has-icon-left mb-4">
                        <input type="text" class="form-control form-control-xl" id="username" name="username"
                            placeholder="Username" />
                        <div class="form-control-icon">
                            <i class="bi bi-person"></i>
                        </div>
                    </div>
                    <div class="form-group position-relative has-icon-left mb-4">
                        <input type="password" class="form-control form-control-xl" id="password" name="password"
                            placeholder="Password" />
                        <div class="form-control-icon">
                            <i class="bi bi-shield-lock"></i>
                        </div>
                    </div>
                    <div class="form-group position-relative has-icon-left mb-4">
                        <input type="password" class="form-control form-control-xl" id="confirmPassword"
                            name="confirmPassword" placeholder="Confirm Password" />
                        <div class="form-control-icon">
                            <i class="bi bi-shield-lock"></i>
                        </div>
                    </div>
                    <div class="form-check py-0 mt-3">
                        <div class="position-relative">
                            <h4 class="position-absolute text-gray-600 m-0" style="top: -3px; left: -28px;">
                                <i id="toggleIcon" class="bi bi-eye-slash-fill"></i>
                            </h4>
                            <input class="form-check-input opacity-0" type="checkbox" id="seePassword"
                                name="seePassword" onclick="togglePassword(this)" />
                        </div>
                        <label class="form-check-label text-gray-600 user-select-none ms-2" for="seePassword">
                            See Password
                        </label>
                    </div>
                    <button class="btn btn-primary btn-block btn-lg shadow-lg mt-5">
                        Registration
                    </button>
                </form>
                <div class="text-center mt-5 fs-4">
                    <h5 class="text-gray-600">
                        Already have an account? <a href="/login" class="font-bold">Login</a>.
                    </h5>
                </div>
            </div>
        </div>
        <div class="col-lg-7 d-none d-lg-block">
            <div id="auth-right"></div>
        </div>
    </div>
</div>

<%- include ../../partials/finisher.ejs -%>

<script>
    const readURL = input => {
        if (input.files && input.files[0]) {
            const render = new FileReader();
            render.onload = function (e) {
                $("#preview").attr("src", e.target.result);
                $("#preview").attr("height", "80px");
            }
            render.readAsDataURL(input.files[0]);
        }
    }
    $("#avatar").change(function () {
        readURL(this)
    });
</script>